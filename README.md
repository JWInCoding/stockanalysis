# 股票数据分析工具

这个工具集成了日线和分钟级数据分析功能，通过简单的命令可以获取并分析任意A股股票。

## 文件结构

```
stock_analysis/
├── stock_analyzer.py  - 主分析脚本，处理股票代码验证和调用数据分析
├── stock_data.py      - 日线数据分析
├── stock_minute_data.py - 分钟级数据分析
├── start_stock.sh     - 环境启动脚本
└── README.md          - 使用说明
```

## 环境准备

**确保脚本有执行权限：**

```bash
chmod +x start_stock.sh
```

**首次使用：**

```bash
cd ~/stock_analysis
./start_stock.sh
```

启动脚本会自动：
- 检查并创建Python虚拟环境
- 安装必要的依赖包
- 提供AKShare更新选项

## 使用方法

### 方式1: 使用主分析脚本

```bash
# 激活虚拟环境后
python3 stock_analyzer.py sh000001  # 分析上证指数
python3 stock_analyzer.py sz002354  # 分析天娱数据
```

### 方式2: 单独使用某个分析模块

```bash
# 仅分析日线数据
python3 stock_data.py sh000001

# 仅分析分钟级数据
python3 stock_minute_data.py sh000001
```

### 新开终端使用

如果打开新的终端窗口，需要先重新运行启动脚本激活环境：

```bash
cd ~/stock_analysis
./start_stock.sh
```

之后可以继续使用上述命令分析股票数据。

## 分析结果输出

所有分析结果会自动保存到文本文件：

```
sh000001_日线数据_20230310_121530.txt    # 日线数据分析结果
sh000001_分钟级数据_20230310_121535.txt  # 分钟级数据分析结果
```

文件名格式: `[股票代码]_[数据类型]_[日期时间].txt`

## 股票代码格式

本工具支持以下股票代码格式：

- **A股股票**:
  - 带市场前缀: `sz000001`、`sh600000`、`bj835185`
  - 纯数字: `000001`、`600000`
  
- **指数**:
  - 带市场前缀: `sh000001`、`sz399001`
  - 纯数字: `000001`、`399001`
  - 老式代码格式: `1A0001`(上证指数)

## 常见问题

**Q: 获取某只股票数据失败怎么办？**  
A: 尝试以下方法:
1. 确保使用正确的股票代码格式，必要时添加市场前缀
2. 查看该股票是否处于特殊状态(如停牌)
3. 尝试更新AKShare到最新版本

**Q: 如何更新依赖包？**  
A: 通过启动脚本可以选择更新AKShare。如需手动更新:
```bash
source stock_env/bin/activate
pip install --upgrade akshare pandas numpy
```

## 数据分析功能

- **日线数据分析**: MA、MACD、RSI、布林带等技术指标
- **分钟级数据**: 5分钟、15分钟和60分钟K线
- **预测功能**: 预测未来5个交易日的均线走势
- **操作建议**: 基于技术指标给出买卖建议

---

希望这个工具能帮助您更好地分析股票数据！如有问题或建议，请提出反馈。
